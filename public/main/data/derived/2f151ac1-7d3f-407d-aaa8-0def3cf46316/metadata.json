{"name":"2f151ac1-7d3f-407d-aaa8-0def3cf46316","id":"2f151ac1-7d3f-407d-aaa8-0def3cf46316","content":"const lados = 6\n\nvar tamanho = 30\n\nvar cores\nvar contaCor = 0\n\nvar pos = {}\nvar dir = 1\nvar raio = 5\nvar angulo = 0\n\nfunction setup() {\n\tcreateCanvas(windowWidth, windowHeight)\n\tbackground(0)\n\tstrokeWeight(2)\n\t\n\tcores = [color(\"#2b2244\"), color(\"#581845\"), color(\"#900C3F\"), color(\"#C70039\"), color(\"#e32c36\"), color(\"#FF5733\"), color(\"#FFC30F\"), color(\"#24fffb\"), color(\"#2b2244\")]\n\t\n\tpos = {x: width/2, y: height/2}\n\tprevPos = {x: pos.x, y: pos.y}\n}\n\nfunction draw() {\t\n\tangulo += 1/raio*dir\n\n\tvar posicaoXAnterior = pos.x\n\tvar posicaoYAnterior = pos.y\n\tpos.x += cos(angulo) * raio\n\tpos.y += sin(angulo) * raio\n\n\t//variação de cores\n\tcontaCor += noise(frameCount/1000)/200\n\tvar col = graduacaoDeCores(contaCor%1, cores)\n\t\n\t//desenha\n\tfor(var a = 0; a < TWO_PI; a += TWO_PI/lados){\n\t\tpush()\n\t\t\ttranslate(width/2, height/2)\n\t\t\trotate(a)\n\t\t\ttranslate(-width/2, -height/2)\n\t\t\n\t\t\tstrokeWeight(tamanho)\n\t\t\tnoFill()\n\t\t\tstroke(col)\n\t\t\tline(posicaoXAnterior, posicaoYAnterior, pos.x, pos.y)\n\t\tpop()\n\t}\n\t\t\n\t//muda a direção\n\tif(pos.x < (tamanho+10) || pos.x > width-(tamanho+10) || pos.y < (tamanho+10) || pos.y > height-(tamanho+10)){\n\t\t//se colidir com a borda\n\t\tangulo += PI * dir\n\t}else{\n\t\t//ou aleatoriamente\n\t\tif(random() < 0.05) dir *= -1\n\t\tif(random() < 0.05) raio = random(5, 8)\n\t}\n}\n\nfunction graduacaoDeCores(percentagem, cores)\n{\n\tvar i = Math.floor(percentagem*(cores.length-1))\n\tif(i < 0) return cores[0]\n\tif(i >= cores.length-1) return cores[cores.length-1]\n\n\tvar percent = (percentagem - i / (cores.length-1)) * (cores.length-1)\n\treturn color(\n\t\tcores[i]._getRed() + percent*(cores[i+1]._getRed()-cores[i]._getRed()),\n\t\tcores[i]._getGreen() + percent*(cores[i+1]._getGreen()-cores[i]._getGreen()),\n\t\tcores[i]._getBlue() + percent*(cores[i+1]._getBlue()-cores[i]._getBlue())\n\t)\n}","parent":{"id":"initial","name":"initial","dir":"initial"},"dir":"derived"}